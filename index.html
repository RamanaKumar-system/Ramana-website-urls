<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ramana Kumar URLs</title>

<!-- Google Font -->
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
<!-- Font Awesome 6 -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

<style>
  body{
    font-family:'Poppins',sans-serif;
    background:#121212;
    color:#fff;
    margin:0;
  }
  header{
    text-align:center;
    padding:1rem;
    background:#1e1e1e;
    position:sticky;top:0;z-index:10;
    width: 100%;
    box-sizing: border-box;
  }
  header h1{margin:0;font-weight:600;}
  .top-bar{
    display:flex;
    justify-content:center;
    align-items:center;
    gap:.5rem;
    margin-top:.8rem;
    flex-wrap:wrap;
  }
  .top-bar input{
    padding:.5rem;border:none;border-radius:6px;
    background:#2a2a2a;color:#fff;min-width:200px;
  }
  .top-bar button{
    background:#007bff;color:#fff;border:none;
    padding:.5rem .8rem;border-radius:6px;
    cursor:pointer;font-weight:600;
  }
  table{width:100%;border-collapse:collapse;margin-top:1rem;}
  th,td{
    padding:.8rem;
    border-bottom:1px solid #333;
    text-align:left;
    vertical-align:middle;
  }
  th{font-weight:600;background:#1e1e1e;}
  /* URL cell: truncate long text */
  td.url-cell{
    max-width:150px; /* Changed from 170px to 150px */
    white-space:nowrap;
    overflow:hidden;
    text-overflow:ellipsis;
    padding: .625rem;
  }
  td.url-cell a{
    color:#1e90ff;
    text-decoration:none;
    font-weight:600;
    display:inline-block;
    max-width:100%;
  }
  /* Action buttons */
  .actions{
    display:flex;
    justify-content:flex-start;
    gap:.4rem;
  }
  .actions button{
    padding:.4rem .6rem;
    border:none;
    border-radius:8px;
    background:#2a2a2a;
    cursor:pointer;
    display:inline-flex;
    align-items:center;
    justify-content:center;
    box-shadow:0 2px 4px rgba(0,0,0,0.4);
  }
  .actions i{font-size:1.1rem;}
  .copy-btn i{color:#0066ff;}
  .edit-btn i{color:#0a8f00;}
  .delete-btn i{color:#e30000;}

  /* Modal styling */
  .modal{
    display:none;position:fixed;z-index:20;
    left:0;top:0;width:100%;height:100%;
    background:rgba(0,0,0,0.7);
  }
  .modal-content{
    background:#1e1e1e;margin:10% auto;
    padding:1rem;border-radius:8px;
    width:90%;max-width:400px;
  }
  .modal-content h2{margin-top:0;font-weight:600;}
  .modal-content input{
    width:100%;padding:.5rem;margin:.5rem 0;
    background:#2a2a2a;border:none;color:#fff;border-radius:6px;
  }
  .modal-content button{
    background:#007bff;color:#fff;border:none;
    padding:.5rem 1rem;border-radius:6px;
    cursor:pointer;font-weight:600;
  }

  /* Mobile tweaks: icons horizontal and centered */
  @media (max-width:600px){
    th,td{font-size:.9rem;}
    .actions{
      justify-content:center;
      flex-wrap:nowrap;
    }
    .actions button{
      padding:.5rem;
    }
  }
</style>
</head>
<body>

<header>
  <h1>Ramana Kumar URLs</h1>
  <div class="top-bar">
    <input type="text" id="search" placeholder="Search website">
    <button id="addBtn">+ Add Website</button>
  </div>
</header>

<table id="urlTable">
  <thead>
    <tr>
      <th>Website Name</th>
      <th>URL</th>
      <th>Actions</th>
    </tr>
  </thead>
  <tbody></tbody>
</table>

<!-- Add/Edit Modal -->
<div id="modal" class="modal">
  <div class="modal-content">
    <h2 id="modalTitle">Add Website</h2>
    <input type="text" id="siteName" placeholder="Website Name">
    <input type="text" id="siteUrl" placeholder="Website URL">
    <button id="submitBtn">Submit</button>
  </div>
</div>

<script>
const tableBody = document.querySelector('#urlTable tbody');
const modal = document.getElementById('modal');
const modalTitle = document.getElementById('modalTitle');
const siteNameInput = document.getElementById('siteName');
const siteUrlInput = document.getElementById('siteUrl');
const submitBtn = document.getElementById('submitBtn');
let editIndex = null;
let data = JSON.parse(localStorage.getItem('urlData') || '[]');

document.getElementById('addBtn').onclick = () => {
  modalTitle.textContent = 'Add Website';
  siteNameInput.value = '';
  siteUrlInput.value = '';
  editIndex = null;
  modal.style.display = 'block';
};

submitBtn.onclick = () => {
  const name = siteNameInput.value.trim();
  const url = siteUrlInput.value.trim();
  if (!name || !url) return;
  if (editIndex === null) { data.push({ name, url }); }
  else { data[editIndex] = { name, url }; }
  saveAndRender();
  modal.style.display = 'none';
};

window.onclick = e => { if (e.target === modal) modal.style.display = 'none'; };

function saveAndRender(){
  localStorage.setItem('urlData', JSON.stringify(data));
  render();
}

function render(){
  tableBody.innerHTML = '';
  data.forEach((item,i)=>{
    const row = document.createElement('tr');
    row.innerHTML = `
      <td>${item.name}</td>
      <td class="url-cell" title="${item.url}">
        <a href="${item.url}" target="_blank">${item.url}</a>
      </td>
      <td class="actions">
        <button class="copy-btn" onclick="copyLink('${item.url}')">
          <i class="fa-solid fa-copy"></i>
        </button>
        <button class="edit-btn" onclick="editRow(${i})">
          <i class="fa-solid fa-edit"></i>
        </button>
        <button class="delete-btn" onclick="deleteRow(${i})">
          <i class="fa-solid fa-trash"></i>
        </button>
      </td>`;
    tableBody.appendChild(row);
  });
}

function copyLink(url){
  navigator.clipboard.writeText(url).then(()=>{
    alert('Link copied to clipboard!');
  });
}
function editRow(i){
  editIndex = i;
  siteNameInput.value = data[i].name;
  siteUrlInput.value = data[i].url;
  modalTitle.textContent = 'Edit Website';
  modal.style.display = 'block';
}
function deleteRow(i){
  if(confirm('Delete this entry?')){
    data.splice(i,1);
    saveAndRender();
  }
}

document.getElementById('search').addEventListener('input', e => {
  const value = e.target.value.toLowerCase();
  [...tableBody.rows].forEach(row => {
    const name = row.cells[0].textContent.toLowerCase();
    row.style.display = name.includes(value) ? '' : 'none';
  });
});

render();
</script>
</body>
</html>
